---
title: "Reverse Engineering Project Part 2"
format: html
editor: visual
names: ela jalil and natalie weger
date: 04/04/2024
---

## **Nearly 250 women have been fatally shot by police since 2015 - The Washington Post**

Loading libraries

```{r}

#download libraries 
library(janitor)
library(tidyverse)
library(dplyr)
```

Loading datasets

```{r}

#load dataset
police_shooting <- read_csv("~/Documents/Github/fatal-police-shootings-data (2).csv") %>%
  clean_names() 
police_shooting_date <- police_shooting %>% 
  filter(date <= as.Date('2020-09-04'))
  nrow(police_shooting_date)
```

Creating separate datasets for women and men who have been fatally shot by the police since 2015

```{r}

#Create datasets for just women and men 
police_shooting_men<- police_shooting %>% 
  select(gender, armed, date, race, signs_of_mental_illness) %>% 
  filter(gender=="M", date <= '2020-09-04')
police_shooting_women <- police_shooting %>% 
  select(gender, armed, name, date, race, signs_of_mental_illness) %>% 
  filter(gender=="F",date <='2020-09-04')

```

**1) Since The Washington Post began [tracking fatal shootings by police](https://www.washingtonpost.com/graphics/investigations/police-shootings-database/) in 2015, officers have fatally shot 247 women out of the more than 5,600 people killed overall. Of the 247 women fatally shot, 48 were Black and seven of those were unarmed.**

```{r}
#finding the total rows of the data to see how many were shot 
nrow(police_shooting_date)
  #there are 5609 rows, meaning 5609 people were fatally shot by police between 2015 to 2020. this discrepancy is likely because the data from github was last      updated in 2022, so there have been updated shooting since then. 

#finding the number of females in the data 
sum(police_shooting_date$gender == "F", na.rm = TRUE)
  #there are 248 rows, meaning that 248 females were fatally shot by police. this discrepancy from 247 is likely because the data from github was last updated in 2022, so there have been updated shooting since then. 

#finding the number of women who identified as black in the women dataset
police_shooting_women %>%
  select(name, armed, date, race) %>%
  filter (race == "B") %>%
  nrow()
  #there are 48 rows, meaning that of the 248 females, 48 identified as black.

#finding the number of women who were unarmed in the women dataset
police_shooting_women %>%
  select(name, armed, date, race) %>%
  filter (race == "B", armed == "unarmed") %>%
  nrow()
  #there are 7 rows, meaning of the black women fatally shot, 7 were unarmed 

```

**2) Since 2015, Black women have accounted for less than 1 percent of the overall fatal shootings in cases where race was known. But within this small subset, Black women, who are 13 percent of the female population, account for 20 percent of the women shot and killed and 28 percent of the unarmed deaths.**\

```{r}

#mutating the data to take the amount of values that identify both as black and female and dividing it by the total to see the percentage of black women shot fatally by police
total_percentage_black_women <- police_shooting_date %>%
  summarize(
    total_people = n(),
    black_count = sum(race == "B" & gender == "F" & !is.na(race))) %>%
  mutate(total_percentage_black_women = (black_count / total_people) * 100)
total_percentage_black_women
  #of the fatal shooting cases, 0.85% were black women, meaning they were less than one percent the washington post article said less than one percent, so if there is a discrepancy then it is likely because the data from github was last updated in 2022, so there have been updated shooting since then. 


#mutating the data to find the percentage of black women who were shot out of the total women 
percentage_black_women <- police_shooting_women %>%
  summarize(
    total_people = n(),
    women_black_count = sum(race == "B" & !is.na(race))) %>%
  mutate(percentage_black_women = (women_black_count / total_people) * 100)
percentage_black_women
  #of the women population data, black women accounted for 19.35% of women who were shot fatally by the police. the discrepancy from 20 percent is likely because the data from github was last updated in 2022, so there have been updated shooting since then. 


#create datasets for unarmed 
unarmed_women_data <- police_shooting %>% 
  select(gender, armed, date, race) %>% 
  filter(armed=="unarmed", gender == "F", date < '2020-09-04')

#find how many black women were among the unarmed females were fatally shot 
unarmed_black_women_final <- unarmed_women_data %>%
  summarize(
    total_people = n(),
    unarmed_black_women = sum(race == "B" & !is.na(race))) %>%
  mutate(pct_unarmed_black_women = (unarmed_black_women / total_people) * 100)
unarmed_black_women_final
  #26.92% of black women were among the unarmed females who were fatally shot. the discrepancy from 28 percent is likely because the data from github was last updated in 2022, so there have been updated shooting since then. 

```

3\) As with fatal police shootings of men, the vast majority of the women killed were armed with a potential weapon at the time, although slightly less often: 89 percent of the women were armed, compared to 91 percent of the men.

```{r}

#We are first answering how many individuals were armed when they were fatally shot. We started with filtering the data by gender. We also filtered by the y/m/d to ensure that we had the same exact numbers as the article.

#We are trying to figure out the armed status of individuals fatally shot: **As with fatal police shootings of men, the vast majority of the women killed were armed with a potential weapon at the time, although slightly less often: 89 percent of the women were armed, compared to 91 percent of the men.**

#Determining who was armed
armed_unarmedf <- police_shooting_women %>% 
  mutate(
    in_out = case_when(
        armed == 'unarmed' ~ "unarmed",
        armed != 'unarmed' ~ "armed",
      )
  )
armed_unarmedf %>% 
  count(in_out) 
222/(222+26)

armed_unarmedm <- police_shooting_men %>% 
  mutate(
    in_out =case_when(
      armed == 'unarmed'~"unarmed",
      armed != 'unarmed' ~ "armed",
    )
  )
armed_unarmedm %>% 
  count(in_out)
5009/(5009+351)

#With this analysis we are making one key assumption: that every individiual that is not unarmed is armed. This is sorting blanks and undetermined weapons into the armed category, which might slightly skew our data. However the result that we get through this data yields 89%, which is what is described in the data.The male data was slightly off - with our results yielding 93% compared to the 91% described in the article. The Github was last updated in 2022, which is the likely reason why there is a discrepancy in the data



```

4\) About 31 percent, or 77, of the 247 women fatally shot by police since 2015 had mental health issues, compared to 22 percent of the 5,362 men killed.

```{r}

#We are now answering the question of the mental health status of women and men. This is the finding we are trying to recreate: **About 31 percent, or 77, of the 247 women fatally shot by police since 2015 had mental health issues, compared to 22 percent of the 5,362 men killed.**

police_shooting_women %>% 
  count(signs_of_mental_illness)
83/(165+83)
#This yielded a result of 33% which is close to the results, and the discrepancy in numbers between 77 and 83 are likely due to the updated data in Github. 
police_shooting_men %>% 
  count(signs_of_mental_illness)
1244/(4116+1244)

#This result yielded a very close result of 23% compared to the 22% mentioned in the article. This discrepancy is likely from the updated data in Github.


```

Throughout this reverse engineering process we found that our results were almost completely accurate to the Washington Post findings. The discrepancies are likely attributed to new data found that was uploaded to Github.
